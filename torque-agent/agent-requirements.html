<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-torque-agent/agent-requirements" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>Agent Requirements | Torque</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://docs.qtorque.io/torque-agent/agent-requirements><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Agent Requirements | Torque"><meta data-rh=true name=description content="The Torque agent is a lightweight, Docker-based execution component that handles environment provisioning and lifecycle management. This page outlines the infrastructure requirements and specifications needed to run the Torque agent."><meta data-rh=true property=og:description content="The Torque agent is a lightweight, Docker-based execution component that handles environment provisioning and lifecycle management. This page outlines the infrastructure requirements and specifications needed to run the Torque agent."><link data-rh=true rel=icon href=/img/favicon.ico><link data-rh=true rel=canonical href=https://docs.qtorque.io/torque-agent/agent-requirements><link data-rh=true rel=alternate href=https://docs.qtorque.io/torque-agent/agent-requirements hreflang=en><link data-rh=true rel=alternate href=https://docs.qtorque.io/torque-agent/agent-requirements hreflang=x-default><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://docs.qtorque.io/torque-agent/agent-requirements","name":"Agent Requirements","position":1}]}</script><script src=https://cdn.cookielaw.org/consent/31859194-4ed7-4958-bfc5-08046e0f6ab7/OtAutoBlock.js type=text/javascript></script><script src=https://cdn.cookielaw.org/scripttemplates/otSDKStub.js charset=UTF-8 type=text/javascript data-domain-script=31859194-4ed7-4958-bfc5-08046e0f6ab7></script><script src=http://docs.qtorque.io/one-trust.js type=text/javascript></script><link rel=stylesheet href=/assets/css/styles.51ff6c39.css><script src=/assets/js/runtime~main.8b587054.js defer></script><script src=/assets/js/main.126095af.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light",e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/logo.png alt=Torque class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/img/logo-dm.png alt=Torque class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href=https://github.com/QualiTorque/torque-docs/discussions/categories/announcements target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-announcments-link"></a><a href=https://github.com/QualiTorque/torque-docs target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><div class="navbar__search searchBarContainer_NW3z" dir=ltr><input placeholder=Search aria-label=Search class=navbar__search-input value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/>Welcome!</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/overview/torque-terminology>üå¥ Torque Overview</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/getting-started/Resources-Inventory/cloud-resources>üöÄ Getting Started</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/environment-services/drift-and-update>üîó Environment Services</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/example-blueprints/application-orchestration>üëÄ Example Blueprints</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/blueprint-designer-guide/blueprint-quickstart-guide>üìÉ Blueprint Designer Guide</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/environment-as-code/environment-as-code-overview>‚òÅ Environment As Code</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/workflows/workflows-overview>‚ñ∂Ô∏è Workflows</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/governance/roles-and-permissions>üåç Governance</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/admin-guide/configurations>‚≠ê Administration</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/eco-system/integrations-overview>ü§ù Integrations</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true href=/torque-agent/Torque-Agent-Intro>‚öô Self-Hosted Agent</a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/torque-agent/Torque-Agent-Intro>What is the Torque Agent?</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/torque-agent/Install-and-connect-self-hosted-agent>Install an Agent on your Kubernetes Cluster</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/torque-agent/agent-requirements>Agent Requirements</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/torque-agent/service-accounts-for-aws>Agents on AWS</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/torque-agent/service-accounts-for-azure>Terraform AKS/Azure Authentication</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/torque-agent/service-accounts-for-gcp>Terraform GKE/GCP Authentication</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/torque-agent/torque-agent-on-azure-vmss>Torque Agent on Azure VMSS</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/torque-agent/torque-docker-agent>Torque Docker Agent</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/torque-agent/advanced-settings>Changing advanced K8s settings</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/torque-agent/torque-outbound-ports>Outbound Ports for Self-hosted Agents</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/reports/reports-overview>üìä Reports</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/rest-api>üñ• REST API</a><button aria-label="Expand sidebar category 'üñ• REST API'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/privacy>üîê Privacy</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/help/how-to-use-the-kb>üîé Need Help?</a></div></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><span class=breadcrumbs__link>‚öô Self-Hosted Agent</span><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Agent Requirements</span></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Agent Requirements</h1></header>
<p>The Torque agent is a lightweight, Docker-based execution component that handles environment provisioning and lifecycle management. This page outlines the infrastructure requirements and specifications needed to run the Torque agent.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=overview>Overview<a href=#overview class=hash-link aria-label="Direct link to Overview" title="Direct link to Overview">‚Äã</a></h2>
<p>The Torque agent can be deployed on two types of infrastructure:</p>
<ul>
<li><strong>Docker Host</strong> - A standalone virtual machine or server running Docker</li>
<li><strong>Kubernetes Cluster</strong> - A managed or self-hosted Kubernetes cluster</li>
</ul>
<p>Both deployment models are lightweight and require minimal resources to operate efficiently.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=minimum-resource-requirements>Minimum Resource Requirements<a href=#minimum-resource-requirements class=hash-link aria-label="Direct link to Minimum Resource Requirements" title="Direct link to Minimum Resource Requirements">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=per-agent-instance>Per Agent Instance<a href=#per-agent-instance class=hash-link aria-label="Direct link to Per Agent Instance" title="Direct link to Per Agent Instance">‚Äã</a></h3>
<p>The agent requires minimal compute and memory resources:</p>
<table><thead><tr><th>Resource<th>Minimum<th>Recommended<tbody><tr><td>CPU<td>100m (0.1 vCPU)<td>200m (0.2 vCPU)<tr><td>Memory<td>200Mi<td>512Mi<tr><td>Storage<td>1GB<td>5GB</table>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>These requirements are for the agent container itself. Additional resources may be needed for workload execution depending on your blueprint complexity and concurrent environment deployments.</div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=infrastructure-requirements>Infrastructure Requirements<a href=#infrastructure-requirements class=hash-link aria-label="Direct link to Infrastructure Requirements" title="Direct link to Infrastructure Requirements">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=docker-host-deployment>Docker Host Deployment<a href=#docker-host-deployment class=hash-link aria-label="Direct link to Docker Host Deployment" title="Direct link to Docker Host Deployment">‚Äã</a></h3>
<p>For running the agent on a Docker host, you'll need:</p>
<p><strong>Minimum VM Specifications:</strong></p>
<ul>
<li><strong>vCPUs</strong>: 2 cores</li>
<li><strong>Memory</strong>: 4GB RAM</li>
<li><strong>Storage</strong>: 20GB disk space</li>
<li><strong>Operating System</strong>: Linux (Ubuntu 20.04+, RHEL 8+, CentOS 8+, Amazon Linux 2)</li>
<li><strong>Docker Version</strong>: 20.10 or later</li>
</ul>
<p><strong>Network Requirements:</strong></p>
<ul>
<li>Outbound HTTPS (port 443) access to Torque SaaS</li>
<li>Internet connectivity for pulling Docker images</li>
<li>See <a href=/torque-agent/torque-outbound-ports>Torque Outbound Ports</a> for detailed network requirements</li>
</ul>
<p><strong>Example VM Configuration:</strong></p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token key atrule" style=color:#00a4db>Instance Type Examples</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token key atrule" style=color:#00a4db>AWS</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> t3.medium (2 vCPU</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> 4GB RAM)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token key atrule" style=color:#00a4db>Azure</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> Standard_B2s (2 vCPU</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> 4GB RAM)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token key atrule" style=color:#00a4db>GCP</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> e2</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">medium (2 vCPU</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> 4GB RAM)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=kubernetes-cluster-deployment>Kubernetes Cluster Deployment<a href=#kubernetes-cluster-deployment class=hash-link aria-label="Direct link to Kubernetes Cluster Deployment" title="Direct link to Kubernetes Cluster Deployment">‚Äã</a></h3>
<p>For running the agent on Kubernetes, you'll need:</p>
<p><strong>Cluster Requirements:</strong></p>
<ul>
<li><strong>Kubernetes Version</strong>: 1.20 or later</li>
<li><strong>Node Resources</strong>: At least one node with 2 vCPUs and 4GB RAM available</li>
<li><strong>Storage Class</strong>: Default storage class configured for persistent volumes</li>
<li><strong>RBAC</strong>: Enabled (required for agent permissions)</li>
</ul>
<p><strong>Supported Kubernetes Platforms:</strong></p>
<ul>
<li>Amazon EKS</li>
<li>Azure Kubernetes Service (AKS)</li>
<li>Google Kubernetes Engine (GKE)</li>
<li>Oracle Container Engine for Kubernetes (OKE)</li>
<li>Self-managed Kubernetes clusters</li>
<li>OpenShift</li>
<li>Rancher</li>
</ul>
<p><strong>Network Requirements:</strong></p>
<ul>
<li>Outbound HTTPS (port 443) access to Torque SaaS</li>
<li>Internet connectivity for pulling container images</li>
<li>See <a href=/torque-agent/torque-outbound-ports>Torque Outbound Ports</a> for detailed network requirements</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=kubernetes-agent-manifest>Kubernetes Agent Manifest<a href=#kubernetes-agent-manifest class=hash-link aria-label="Direct link to Kubernetes Agent Manifest" title="Direct link to Kubernetes Agent Manifest">‚Äã</a></h2>
<p>When deploying to Kubernetes, the agent is installed using a manifest that includes the following components:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=core-components>Core Components<a href=#core-components class=hash-link aria-label="Direct link to Core Components" title="Direct link to Core Components">‚Äã</a></h3>
<ol>
<li><strong>Namespace</strong> - Dedicated namespace for agent isolation</li>
<li><strong>ServiceAccount</strong> - Identity for the agent pods</li>
<li><strong>ClusterRoles</strong> - Permissions for cluster-level and namespace-level operations</li>
<li><strong>ClusterRoleBindings</strong> - Binding service account to required roles</li>
<li><strong>Secret</strong> - Stores cluster token and logging configuration</li>
<li><strong>Deployment</strong> - Manages agent replicas (default: 2 replicas for high availability)</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=agent-permissions>Agent Permissions<a href=#agent-permissions class=hash-link aria-label="Direct link to Agent Permissions" title="Direct link to Agent Permissions">‚Äã</a></h3>
<p>The agent requires two sets of permissions:</p>
<p><strong>Cluster-Level Read Permissions:</strong></p>
<ul>
<li>List storage classes</li>
<li>List namespaces</li>
<li>List service accounts</li>
</ul>
<p><strong>Namespace-Level Permissions:</strong></p>
<ul>
<li>Full control over deployments, replicasets, and pods</li>
<li>Manage services, configmaps, secrets</li>
<li>Create and manage persistent volume claims</li>
<li>Manage ingresses and network policies</li>
<li>Access pod logs and events</li>
<li>Execute jobs</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=example-deployment-specification>Example Deployment Specification<a href=#example-deployment-specification class=hash-link aria-label="Direct link to Example Deployment Specification" title="Direct link to Example Deployment Specification">‚Äã</a></h3>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token key atrule" style=color:#00a4db>apiVersion</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> apps/v1</span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key atrule" style=color:#00a4db>kind</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> Deployment</span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key atrule" style=color:#00a4db>metadata</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token key atrule" style=color:#00a4db>name</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> torque</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">agent</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token key atrule" style=color:#00a4db>namespace</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> torque</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">agent</span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key atrule" style=color:#00a4db>spec</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token key atrule" style=color:#00a4db>replicas</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>2</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token key atrule" style=color:#00a4db>selector</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key atrule" style=color:#00a4db>matchLabels</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token key atrule" style=color:#00a4db>app</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> torque</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">agent</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token key atrule" style=color:#00a4db>template</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key atrule" style=color:#00a4db>metadata</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token key atrule" style=color:#00a4db>labels</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key atrule" style=color:#00a4db>app</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> torque</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">agent</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key atrule" style=color:#00a4db>spec</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token key atrule" style=color:#00a4db>containers</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> </span><span class="token key atrule" style=color:#00a4db>name</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> torque</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">agent</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">container</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key atrule" style=color:#00a4db>image</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> quali/kubernetes</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">agent</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain">latest</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key atrule" style=color:#00a4db>imagePullPolicy</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> IfNotPresent</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key atrule" style=color:#00a4db>resources</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">          </span><span class="token key atrule" style=color:#00a4db>limits</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token key atrule" style=color:#00a4db>cpu</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> 100m</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token key atrule" style=color:#00a4db>memory</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> 200Mi</span><br></span><span class=token-line style=color:#393A34><span class="token plain">          </span><span class="token key atrule" style=color:#00a4db>requests</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token key atrule" style=color:#00a4db>cpu</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> 100m</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token key atrule" style=color:#00a4db>memory</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> 200Mi</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key atrule" style=color:#00a4db>env</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> </span><span class="token key atrule" style=color:#00a4db>name</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> AgentSettings__ClusterToken</span><br></span><span class=token-line style=color:#393A34><span class="token plain">          </span><span class="token key atrule" style=color:#00a4db>valueFrom</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token key atrule" style=color:#00a4db>secretKeyRef</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">              </span><span class="token key atrule" style=color:#00a4db>name</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> torque</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">agent</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">secret</span><br></span><span class=token-line style=color:#393A34><span class="token plain">              </span><span class="token key atrule" style=color:#00a4db>key</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> cluster</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">token</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> </span><span class="token key atrule" style=color:#00a4db>name</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> AgentSettings__ClusterId</span><br></span><span class=token-line style=color:#393A34><span class="token plain">          </span><span class="token key atrule" style=color:#00a4db>value</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> &lt;your</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">cluster</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">id</span><span class="token punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain"> </span><span class="token key atrule" style=color:#00a4db>name</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> AgentSettings__ServerUrl</span><br></span><span class=token-line style=color:#393A34><span class="token plain">          </span><span class="token key atrule" style=color:#00a4db>value</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> https</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain">//&lt;your</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">torque</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">instance</span><span class="token punctuation" style=color:#393A34>></span><span class="token plain">/hub/agent</span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token key atrule" style=color:#00a4db>serviceAccountName</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> torque</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">agent</span><span class="token punctuation" style=color:#393A34>-</span><span class="token plain">sa</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=scaling-considerations>Scaling Considerations<a href=#scaling-considerations class=hash-link aria-label="Direct link to Scaling Considerations" title="Direct link to Scaling Considerations">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=high-availability>High Availability<a href=#high-availability class=hash-link aria-label="Direct link to High Availability" title="Direct link to High Availability">‚Äã</a></h3>
<p>For production deployments, consider:</p>
<ul>
<li><strong>Multiple Replicas</strong>: Deploy 2+ agent replicas for redundancy</li>
<li><strong>Node Distribution</strong>: Use pod anti-affinity to distribute replicas across nodes</li>
<li><strong>Resource Limits</strong>: Set appropriate limits to prevent resource contention</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=workload-capacity>Workload Capacity<a href=#workload-capacity class=hash-link aria-label="Direct link to Workload Capacity" title="Direct link to Workload Capacity">‚Äã</a></h3>
<p>Agent capacity depends on:</p>
<ul>
<li>Number of concurrent environment deployments</li>
<li>Complexity of blueprints (number of grains, resources)</li>
<li>Duration of provisioning operations</li>
</ul>
<p><strong>Scaling Guidelines:</strong></p>
<ul>
<li>Single agent: 5-10 concurrent environments</li>
<li>Additional replicas: Linear scaling for concurrent capacity</li>
<li>Heavy workloads: Consider dedicated node pools or larger VM instances</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=scaling-table-quick-reference>Scaling Table (Quick Reference)<a href=#scaling-table-quick-reference class=hash-link aria-label="Direct link to Scaling Table (Quick Reference)" title="Direct link to Scaling Table (Quick Reference)">‚Äã</a></h2>
<p>The table below provides recommended starting points for agent deployment sizing based on the number of concurrent environments and average workload complexity. Use these as guidelines and adjust based on observed agent CPU/memory usage and provisioning times.</p>
<table><thead><tr><th>Concurrent Environments<th>Tier<th>Agent Replicas<th>Node Pool / VM Size Recommendation<th>Notes<tbody><tr><td>1 - 10<td>Light<td>1 - 2<td>1 node, 2 vCPU / 4GB RAM<td>Light workloads; single replica acceptable for non-critical use.<tr><td>11 - 100<td>Medium<td>2 - 4<td>2-3 nodes, each 2-4 vCPU / 4-8GB RAM<td>Medium concurrency; HA recommended and anti-affinity.<tr><td>101 - 200<td>Increased parallelism<td>4 - 8<td>3-5 nodes, each 4 vCPU / 8GB RAM<td>Higher parallelism; consider dedicated node pools and tuned resource limits.<tr><td>200+<td>High concurrency + Large<td>8+<td>4+ nodes, each 8+ vCPU / 16+GB RAM; autoscaling recommended<td>Very high concurrency; perform load testing and monitor closely.</table>
<p>Notes:</p>
<ul>
<li>"Concurrent Environments" refers to environments actively provisioning or heavily operating at the same time.</li>
<li>Agent replica counts assume default agent resource requests/limits (100m CPU / 200Mi memory). Increase per-agent resources for heavy or long-running workloads.</li>
<li>For Kubernetes, use PodDisruptionBudgets, anti-affinity, and multiple replicas across failure domains to ensure availability.</li>
<li>Monitor agent pod CPU/memory and adjust cluster autoscaler and node sizes accordingly.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=getting-started>Getting Started<a href=#getting-started class=hash-link aria-label="Direct link to Getting Started" title="Direct link to Getting Started">‚Äã</a></h2>
<p>Once you've prepared your infrastructure, proceed with agent installation:</p>
<ul>
<li><strong>Docker Host</strong>: See <a href=/torque-agent/torque-docker-agent>Torque Docker Agent</a></li>
<li><strong>Kubernetes Cluster</strong>: See <a href=/torque-agent/Install-and-connect-self-hosted-agent>Install and Connect Self-Hosted Agent</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=additional-resources>Additional Resources<a href=#additional-resources class=hash-link aria-label="Direct link to Additional Resources" title="Direct link to Additional Resources">‚Äã</a></h2>
<ul>
<li><a href=/torque-agent/Torque-Agent-Intro>What is the Torque Agent?</a></li>
<li><a href=/torque-agent/advanced-settings>Advanced Agent Settings</a></li>
<li><a href=/torque-agent/torque-outbound-ports>Network Requirements</a></li>
<li><a href=/torque-agent/torque-agent-on-azure-vmss>Azure VMSS Deployment</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/QualiTorque/torque-docs/tree/master/docs/torque-agent/agent-requirements.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/torque-agent/Install-and-connect-self-hosted-agent><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Install an Agent on your Kubernetes Cluster</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/torque-agent/service-accounts-for-aws><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Agents on AWS</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#overview class="table-of-contents__link toc-highlight">Overview</a><li><a href=#minimum-resource-requirements class="table-of-contents__link toc-highlight">Minimum Resource Requirements</a><ul><li><a href=#per-agent-instance class="table-of-contents__link toc-highlight">Per Agent Instance</a></ul><li><a href=#infrastructure-requirements class="table-of-contents__link toc-highlight">Infrastructure Requirements</a><ul><li><a href=#docker-host-deployment class="table-of-contents__link toc-highlight">Docker Host Deployment</a><li><a href=#kubernetes-cluster-deployment class="table-of-contents__link toc-highlight">Kubernetes Cluster Deployment</a></ul><li><a href=#kubernetes-agent-manifest class="table-of-contents__link toc-highlight">Kubernetes Agent Manifest</a><ul><li><a href=#core-components class="table-of-contents__link toc-highlight">Core Components</a><li><a href=#agent-permissions class="table-of-contents__link toc-highlight">Agent Permissions</a><li><a href=#example-deployment-specification class="table-of-contents__link toc-highlight">Example Deployment Specification</a></ul><li><a href=#scaling-considerations class="table-of-contents__link toc-highlight">Scaling Considerations</a><ul><li><a href=#high-availability class="table-of-contents__link toc-highlight">High Availability</a><li><a href=#workload-capacity class="table-of-contents__link toc-highlight">Workload Capacity</a></ul><li><a href=#scaling-table-quick-reference class="table-of-contents__link toc-highlight">Scaling Table (Quick Reference)</a><li><a href=#getting-started class="table-of-contents__link toc-highlight">Getting Started</a><li><a href=#additional-resources class="table-of-contents__link toc-highlight">Additional Resources</a></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Company</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://www.quali.com/ target=_blank rel="noopener noreferrer" class=footer__link-item>Quali Website<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://www.quali.com/careers/ target=_blank rel="noopener noreferrer" class=footer__link-item>Careers<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/QualiTorque/torque-docs/discussions target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub Community<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://twitter.com/qualisystems target=_blank rel="noopener noreferrer" class=footer__link-item>Twitter<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://www.quali.com/blog/ target=_blank rel="noopener noreferrer" class=footer__link-item>Quali blog<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/QualiTorque/torque-docs target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div></div></div></footer></div>