"use strict";(self.webpackChunktorque=self.webpackChunktorque||[]).push([[8874],{3905:function(e,t,n){n.d(t,{Zo:function(){return l},kt:function(){return d}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):p(p({},t),e)),n},l=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),m=c(n),d=a,f=m["".concat(s,".").concat(d)]||m[d]||u[d]||o;return n?r.createElement(f,p(p({ref:t},l),{},{components:n})):r.createElement(f,p({ref:t},l))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,p=new Array(o);p[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:a,p[1]=i;for(var c=2;c<o;c++)p[c]=n[c];return r.createElement.apply(null,p)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},177:function(e,t,n){n.r(t),n.d(t,{assets:function(){return l},contentTitle:function(){return s},default:function(){return d},frontMatter:function(){return i},metadata:function(){return c},toc:function(){return u}});var r=n(7462),a=n(3366),o=(n(7294),n(3905)),p=["components"],i={sidebar_position:7,title:"Create a Kubernetes Compute Service"},s=void 0,c={unversionedId:"getting-started/Create kubernetes compute",id:"getting-started/Create kubernetes compute",title:"Create a Kubernetes Compute Service",description:"Now that we have a cloud account, we need to create a compute service that will define the Kubernetes cluster that will host the environment. Torque supports both EKS (AWS) and AKS (Azure).",source:"@site/docs/getting-started/Create kubernetes compute.md",sourceDirName:"getting-started",slug:"/getting-started/Create kubernetes compute",permalink:"/torque-docs/getting-started/Create kubernetes compute",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/getting-started/Create kubernetes compute.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7,title:"Create a Kubernetes Compute Service"},sidebar:"torqueSidebar",previous:{title:"Connect Your Cloud",permalink:"/torque-docs/getting-started/Connect your cloud"},next:{title:"Connect the Cluster's Agent to Torque",permalink:"/torque-docs/getting-started/Connect the cluster agent"}},l={},u=[],m={toc:u};function d(e){var t=e.components,i=(0,a.Z)(e,p);return(0,o.kt)("wrapper",(0,r.Z)({},m,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Now that we have a cloud account, we need to create a compute service that will define the Kubernetes cluster that will host the environment. Torque supports both EKS (AWS) and AKS (Azure)."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"To create a Kubernetes compute service:")),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Make sure you are in ",(0,o.kt)("strong",{parentName:"p"},"Admin Console")," page, in the ",(0,o.kt)("strong",{parentName:"p"},"Cloud Accounts")," tab.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Open your cloud account's ",(0,o.kt)("strong",{parentName:"p"},"Manage")," page."),(0,o.kt)("blockquote",{parentName:"li"},(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("img",{alt:"Locale Dropdown",src:n(8018).Z,width:"1040",height:"350"})))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click ",(0,o.kt)("strong",{parentName:"p"},"Add Kubernetes Cluster")," and complete the wizard."),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Kubernetes compute service name"),": Display name for the Kubernetes compute service.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Agent namespace"),": The Kubernetes agent\u2019s namespace.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Sandbox namespaces"),": Any of the cluster\u2019s namespaces that should be available for sandbox/production deployments. When you associate the Kubernetes compute service to a space, you will decide which of these namespaces will be used in that space."))),(0,o.kt)("p",{parentName:"li"},"(For EKS only) You can optionally specify a Kubernetes ingress to load balance application traffic using the Application Load Balancer that is deployed by Torque for the environment. To do so: "),(0,o.kt)("ol",{parentName:"li"},(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Select ",(0,o.kt)("strong",{parentName:"p"},"Configure Ingress"),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Specify the ",(0,o.kt)("strong",{parentName:"p"},"Ingress Controller Type"),". \u201calb\u201d is currently supported.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"In the ",(0,o.kt)("strong",{parentName:"p"},"Ingress Class")," field, specify the --ingress-class value of the application load balancer\u2019s ingress controller in the Kubernetes cluster. You can find this value in the Kubernetes deployment YAML of the ALB Controller with the following command:"),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"kubectl -n <namespace> get deployment <resource Name> -o yaml")),(0,o.kt)("p",{parentName:"li"},"Where ",(0,o.kt)("strong",{parentName:"p"},"namespace")," is the namespace name where the ALB controller was deployed, and ",(0,o.kt)("strong",{parentName:"p"},"resource Name")," is the deployment name of the ALB controller")))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click ",(0,o.kt)("strong",{parentName:"p"},"Create"),"."))))}d.isMDXComponent=!0},8018:function(e,t,n){t.Z=n.p+"assets/images/manage-cloud-account-84a61f0769de94728275f58fc7f02731.png"}}]);