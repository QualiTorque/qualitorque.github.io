"use strict";(self.webpackChunktorque=self.webpackChunktorque||[]).push([[1934],{3905:(e,t,a)=>{a.d(t,{Zo:()=>s,kt:()=>g});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var m=r.createContext({}),p=function(e){var t=r.useContext(m),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},s=function(e){var t=p(e.components);return r.createElement(m.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,m=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),d=p(a),c=n,g=d["".concat(m,".").concat(c)]||d[c]||u[c]||i;return a?r.createElement(g,l(l({ref:t},s),{},{components:a})):r.createElement(g,l({ref:t},s))}));function g(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,l=new Array(i);l[0]=c;var o={};for(var m in t)hasOwnProperty.call(t,m)&&(o[m]=t[m]);o.originalType=e,o[d]="string"==typeof e?e:n,l[1]=o;for(var p=2;p<i;p++)l[p]=a[p];return r.createElement.apply(null,l)}return r.createElement.apply(null,a)}c.displayName="MDXCreateElement"},7125:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>m,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var r=a(7462),n=(a(7294),a(3905));const i={sidebar_position:2,title:"Parameters"},l=void 0,o={unversionedId:"admin-guide/params",id:"admin-guide/params",title:"Parameters",description:"The Torque parameter store is a repository of key-value pairs, which can be used and reused in blueprint YAMLs across all spaces in Torque. Two types of parameters are supported:",source:"@site/docs/admin-guide/params.md",sourceDirName:"admin-guide",slug:"/admin-guide/params",permalink:"/admin-guide/params",editUrl:"https://github.com/QualiTorque/torque-docs/tree/master/docs/admin-guide/params.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Parameters"},sidebar:"torqueSidebar",previous:{title:"Configurations",permalink:"/admin-guide/configurations"},next:{title:"Input Sources",permalink:"/admin-guide/input-sources"}},m={},p=[{value:"Creating Account-level parameters",id:"creating-account-level-parameters",level:2},{value:"Creating space-level parameters",id:"creating-space-level-parameters",level:2},{value:"SYSTEM Parameters",id:"system-parameters",level:2}],s={toc:p},d="wrapper";function u(e){let{components:t,...a}=e;return(0,n.kt)(d,(0,r.Z)({},s,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"The Torque parameter store is a repository of key-value pairs, which can be used and reused in blueprint YAMLs across all spaces in Torque. Two types of parameters are supported: "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Account-level parameters are defined by the Torque account admin and can be used across all spaces. As such, these parameters are typically used to store data that applies to multiple spaces."),(0,n.kt)("li",{parentName:"ul"},"Space-level parameters are defined by space admins and apply to specific spaces. ")),(0,n.kt)("h2",{id:"creating-account-level-parameters"},"Creating Account-level parameters"),(0,n.kt)("p",null,"Torque role: Account admin"),(0,n.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,n.kt)("div",{parentName:"div",className:"admonition-heading"},(0,n.kt)("h5",{parentName:"div"},(0,n.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,n.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,n.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),(0,n.kt)("strong",{parentName:"h5"},"Important"))),(0,n.kt)("div",{parentName:"div",className:"admonition-content"},(0,n.kt)("p",{parentName:"div"},"Modifying or deleting a parameter may cause blueprints that use the parameter to fail."))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"To add an account-level parameter:")),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Open the ",(0,n.kt)("strong",{parentName:"li"},"Administration")," and click ",(0,n.kt)("strong",{parentName:"li"},"Parameters"),"."),(0,n.kt)("li",{parentName:"ol"},"Click ",(0,n.kt)("strong",{parentName:"li"},"Add Parameter")," in the top right corner of the page."),(0,n.kt)("li",{parentName:"ol"},"Fill in the details:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Parameter Name"),": Display name for the parameter.",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Parameter Name is case-insensitive."),(0,n.kt)("li",{parentName:"ul"},"Parameter Name may only contain URL-supported characters including letters, digits, underscores, dashes, etc."))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Is Sensitive?"),": Determines whether this parameter value is sensitive and should be hidden from users"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Value"),": Parameter\u2019s value"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Description"),": Informative description of the parameter or value it contains"))),(0,n.kt)("li",{parentName:"ol"},"Click ",(0,n.kt)("strong",{parentName:"li"},"Apply"),".\nThe parameter is stored in the parameter store and can be used in your blueprint YAMLs in the format: ",(0,n.kt)("inlineCode",{parentName:"li"},"{{.params.param-name}}"),". For details, see ",(0,n.kt)("a",{parentName:"li",href:"/blueprint-designer-guide/blueprints/blueprints-yaml-structure#parameterss"},"Parameters"),".")),(0,n.kt)("h2",{id:"creating-space-level-parameters"},"Creating space-level parameters"),(0,n.kt)("p",null,"Torque role: Space admin"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"To add a space-level parameter:")),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Open your space, and click ",(0,n.kt)("strong",{parentName:"li"},"Parameters")," in the left pane. On this page, you can view all the account-level parameters that were defined by the account admin, and add space-specific parameters. "),(0,n.kt)("li",{parentName:"ol"},"Click the ",(0,n.kt)("strong",{parentName:"li"},"Add Parameter")," button to add a new space-level parameter."),(0,n.kt)("li",{parentName:"ol"},"Fill in the details:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Parameter Name"),": Display name for the parameter.",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Parameter Name is case-insensitive."),(0,n.kt)("li",{parentName:"ul"},"Parameter Name may only contain URL-supported characters including letters, digits, underscores, dashes, etc."))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Is Sensitive?"),": Determines whether this parameter value is sensitive and should be hidden from users"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Value"),": Parameter\u2019s value"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Description"),": Informative description of the parameter or value it contains"))),(0,n.kt)("li",{parentName:"ol"},"Click ",(0,n.kt)("strong",{parentName:"li"},"Apply"),".\nThe parameter is stored in the parameter store and can be used in your blueprint YAMLs in the format: ",(0,n.kt)("inlineCode",{parentName:"li"},"{{.params.param-name}}"),". For details, see ",(0,n.kt)("a",{parentName:"li",href:"/blueprint-designer-guide/blueprints/blueprints-yaml-structure#parameters"},"Parameters"),".")),(0,n.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,n.kt)("div",{parentName:"div",className:"admonition-heading"},(0,n.kt)("h5",{parentName:"div"},(0,n.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,n.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,n.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,n.kt)("div",{parentName:"div",className:"admonition-content"},(0,n.kt)("p",{parentName:"div"},"A space-level parameter will take precedence over an account-level parameter with the same name"))),(0,n.kt)("h2",{id:"system-parameters"},"SYSTEM Parameters"),(0,n.kt)("p",null,"SYSTEM parameters provide account-wide control and configuration from the parameter store. "),(0,n.kt)("p",null,"Below is a list of supported SYSTEM parameters:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter Name"),(0,n.kt)("th",{parentName:"tr",align:null},"Parameter Values"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"SYSTEM_DISABLE_LOGS_SHIPPING"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"true"),"/",(0,n.kt)("inlineCode",{parentName:"td"},"false")),(0,n.kt)("td",{parentName:"tr",align:null},"Disables logs shipping in Runner")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"SYSTEM_ENVIRONMENT_AUTO_UPDATE"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"true"),"/",(0,n.kt)("inlineCode",{parentName:"td"},"false")),(0,n.kt)("td",{parentName:"tr",align:null},'Account or space-level parameter. Parameter flag for "force" update on any grain code-changes detection for all of the environments in the space. Auto updates the grain when changes are found in the sources defined in the workspace-directories. It should take up to 3 minutes to see the changes and initiate the automatic update.')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"SYSTEM_TF_FORCE_PROVIDERS_UPGRADE"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"true"),"/",(0,n.kt)("inlineCode",{parentName:"td"},"false")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"true")," \u21d2 Terraform init will run with ",(0,n.kt)("inlineCode",{parentName:"td"},"--upgrade")," flag")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"SYSTEM_ACTIONS_OPTIONAL_AWS_ROLE_ARN"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"Role ARN")),(0,n.kt)("td",{parentName:"tr",align:null},"ARN of target role to use for Ansible built-in actions in this space")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"SYSTEM_IMAGE_PULL_SECRET_NAME"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"string")),(0,n.kt)("td",{parentName:"tr",align:null},"Name of secret that needs to be used to pull images")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"SYSTEM_HELM_RUNNER_IMAGE"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"<image_registry_address>/<image_name>:<image_tag>")),(0,n.kt)("td",{parentName:"tr",align:null},"Non-default image location for Helm grain runner")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"SYSTEM_K8S_RUNNER_IMAGE"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"<image_registry_address>/<image_name>:<image_tag>")),(0,n.kt)("td",{parentName:"tr",align:null},"Non-default image location for K8s grain runner")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"SYSTEM_SHELL_RUNNER_IMAGE"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"<image_registry_address>/<image_name>:<image_tag>")),(0,n.kt)("td",{parentName:"tr",align:null},"Non-default image location for Shell grain runner")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"SYSTEM_CFN_RUNNER_IMAGE"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"<image_registry_address>/<image_name>:<image_tag>")),(0,n.kt)("td",{parentName:"tr",align:null},"Non-default image location for CloudFormation grain runner")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"SYSTEM_ANSIBLE_RUNNER_IMAGE"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"<image_registry_address>/<image_name>:<image_tag>")),(0,n.kt)("td",{parentName:"tr",align:null},"Non-default image location for Ansible grain runner")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"SYSTEM_ANSIBLE_ACTION_RUNNER_IMAGE"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"<image_registry_address>/<image_name>:<image_tag>")),(0,n.kt)("td",{parentName:"tr",align:null},"Non-default image location for Ansible built-in Actions runner")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"SYSTEM_ARGOCD_RUNNER_IMAGE"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"<image_registry_address>/<image_name>:<image_tag>")),(0,n.kt)("td",{parentName:"tr",align:null},"Non-default image location for ArgoCD grain runner")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"SYSTEM_TERRAFORM_RUNNER_IMAGE"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"<image_registry_address>/<image_name>:<image_tag>")),(0,n.kt)("td",{parentName:"tr",align:null},"Non-default image location for Terraform grain runner")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"SYSTEM_TERRAGRUNT_RUNNER_IMAGE"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"<image_registry_address>/<image_name>:<image_tag>")),(0,n.kt)("td",{parentName:"tr",align:null},"Non-default image location for Terragrunt grain runner")))))}u.isMDXComponent=!0}}]);