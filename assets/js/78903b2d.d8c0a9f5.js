"use strict";(self.webpackChunktorque=self.webpackChunktorque||[]).push([[32],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>g});var r=n(7294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var u=r.createContext({}),s=function(e){var t=r.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=s(e.components);return r.createElement(u.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,l=e.mdxType,i=e.originalType,u=e.parentName,p=a(e,["components","mdxType","originalType","parentName"]),d=s(n),h=l,g=d["".concat(u,".").concat(h)]||d[h]||c[h]||i;return n?r.createElement(g,o(o({ref:t},p),{},{components:n})):r.createElement(g,o({ref:t},p))}));function g(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var i=n.length,o=new Array(i);o[0]=h;var a={};for(var u in t)hasOwnProperty.call(t,u)&&(a[u]=t[u]);a.originalType=e,a[d]="string"==typeof e?e:l,o[1]=a;for(var s=2;s<i;s++)o[s]=n[s];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},2045:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>a,toc:()=>s});var r=n(7462),l=(n(7294),n(3905));const i={sidebar_position:27,title:"The CloudShell Grain"},o=void 0,a={unversionedId:"blueprint-designer-guide/blueprints/cloudshell-grain",id:"blueprint-designer-guide/blueprints/cloudshell-grain",title:"The CloudShell Grain",description:"The CloudShell grain allows to integrate Torque with Quali CloudShell. CloudShell blueprints are treated as assets in Torque. This integration allows to extend Torque capabilities to manage physical resources.",source:"@site/docs/blueprint-designer-guide/blueprints/cloudshell-grain.md",sourceDirName:"blueprint-designer-guide/blueprints",slug:"/blueprint-designer-guide/blueprints/cloudshell-grain",permalink:"/blueprint-designer-guide/blueprints/cloudshell-grain",editUrl:"https://github.com/QualiTorque/torque-docs/tree/master/docs/blueprint-designer-guide/blueprints/cloudshell-grain.md",tags:[],version:"current",sidebarPosition:27,frontMatter:{sidebar_position:27,title:"The CloudShell Grain"},sidebar:"torqueSidebar",previous:{title:"The Ansible Grain",permalink:"/blueprint-designer-guide/blueprints/ansible-grain"},next:{title:"The Blueprint Grain",permalink:"/blueprint-designer-guide/blueprints/blueprint-grain"}},u={},s=[{value:"source",id:"source",level:3},{value:"agent",id:"agent",level:3},{value:"inputs",id:"inputs",level:3},{value:"limitations",id:"limitations",level:3}],p={toc:s},d="wrapper";function c(e){let{components:t,...n}=e;return(0,l.kt)(d,(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"The CloudShell grain allows to integrate Torque with Quali CloudShell. CloudShell blueprints are treated as assets in Torque. This integration allows to extend Torque capabilities to manage physical resources. "),(0,l.kt)("p",null,"When launching an enviorment in Torque with the CloudShell grain, Torque will start a sandbox in CloudShell with the same duration. If the Torque enviorment is extended the CloudShell sandbox will be extended accordingly. And when the Torque enviorment ends the CloudShell sandbox will be terminated as well."),(0,l.kt)("p",null,"Note that to use the CloudShell grain it's requiered to have a healthy CloudShell instance and to properly configure the integration. For details, see ",(0,l.kt)("a",{parentName:"p",href:"/admin-guide/source-control/source-managed-cloudshell"},"Self-Managed Quali CloudShell"),"."),(0,l.kt)("h3",{id:"source"},"source"),(0,l.kt)("p",null,"The 'path' property of the source section should reference the CloudShell Blueprint name.\nPlease see ",(0,l.kt)("a",{parentName:"p",href:"/blueprint-designer-guide/blueprints/blueprints-yaml-structure#source"},"the grain source")," for more details."),(0,l.kt)("h3",{id:"agent"},"agent"),(0,l.kt)("p",null,"The agent needs to have direct connectivity with the self-hosted CloudShell instance.\nPlease see ",(0,l.kt)("a",{parentName:"p",href:"/blueprint-designer-guide/blueprints/blueprints-yaml-structure#agent"},"the grain agent")," for more details."),(0,l.kt)("h3",{id:"inputs"},"inputs"),(0,l.kt)("p",null,"Similar to blueprint inputs, the CloudShell grain input allows you to reuse the same CloudShell Blueprint in different ways. Inputs provided to the CloudShell grain are used when launching the CloudShell Blueprint. We recommend using Torque's auto-discovery capability to quickly model your CloudShell Blueprint within Torque including all defined inputs."),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},"grains:\n  database:\n    kind: cloudshell\n    spec:\n      source:\n        store: local_cs_assets \n        path: cs_bp     \n      agent:\n      ...\n      inputs:\n        - input1: '{{ .inputs.input1 }}' \n        - input2: '{{ .inputs.input2 }}' \n        - input3: 'some value'        \n")),(0,l.kt)("h3",{id:"limitations"},"limitations"),(0,l.kt)("p",null,"Drift, Update, Auto-Tagging and Outputs are currently not supported for by the CloudShell grain. And also Unlimited environments not supported by the CloudShell grain."))}c.isMDXComponent=!0}}]);