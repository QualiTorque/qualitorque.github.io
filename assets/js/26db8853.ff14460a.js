"use strict";(self.webpackChunktorque=self.webpackChunktorque||[]).push([["590"],{8459:function(e,t,n){n.r(t),n.d(t,{frontMatter:()=>l,toc:()=>u,default:()=>d,metadata:()=>i,assets:()=>a,contentTitle:()=>o});var i=JSON.parse('{"id":"blueprint-designer-guide/layouts/layouts","title":"The layout yaml","description":"With the layout yaml file, you can customize the way end users see resources and their properties, both on the table view as well as the resource cards (catalog).","source":"@site/docs/blueprint-designer-guide/layouts/layouts.md","sourceDirName":"blueprint-designer-guide/layouts","slug":"/blueprint-designer-guide/layouts/","permalink":"/blueprint-designer-guide/layouts/","draft":false,"unlisted":false,"editUrl":"https://github.com/QualiTorque/torque-docs/tree/master/docs/blueprint-designer-guide/layouts/layouts.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"The layout yaml"},"sidebar":"defaultSidebar","previous":{"title":"Custom Grain","permalink":"/blueprint-designer-guide/blueprints/custom-grain"},"next":{"title":"Auto-generated Blueprints","permalink":"/blueprint-designer-guide/autogenerated-blueprints"}}'),r=n(4848),s=n(4429);let l={sidebar_position:1,title:"The layout yaml"},o=void 0,a={},u=[{value:"Referencing layout for a blueprint",id:"referencing-layout-for-a-blueprint",level:2},{value:"Layout structure",id:"layout-structure",level:2}];function c(e){let t={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"With the layout yaml file, you can customize the way end users see resources and their properties, both on the table view as well as the resource cards (catalog)."}),"\n",(0,r.jsx)(t.p,{children:"Example use-cases:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Hide specific resources from the end users view due to security considerations or simplicity"}),"\n",(0,r.jsx)(t.li,{children:"Only show specific resources"}),"\n",(0,r.jsx)(t.li,{children:"Customize the card view of a resource - the icon and attributes which will be shown"}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"referencing-layout-for-a-blueprint",children:"Referencing layout for a blueprint"}),"\n",(0,r.jsx)(t.p,{children:"Layout is a separate yaml that will be referenced from the blueprint yaml like so:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-yaml",children:"spec_version: 2\ndescription: ...\nlayout:\n  source:\n    store:\n    path:\n  exclude-from-layout:  # optional\n    - grain_name_1\n    - grain_name_2\n"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.strong,{children:"layout"})," element is where the blueprint references the layout that will be applied to environments created from it."]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.em,{children:"source"})," is similar to the source element in the blueprint yaml. See ",(0,r.jsx)(t.a,{href:"/blueprint-designer-guide/blueprints/blueprints-yaml-structure#source",children:"source"})," for more details."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.strong,{children:"exclude-from-layout"})," element is optional, use it in case you need to apply the layout only to part of the grains but not all of them."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"layout-structure",children:"Layout structure"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-yaml",metastring:"my_layout.yaml",children:'\nkind: layout\ndescription: "layout for ..."\n\ntable:\n  hide:\n    resource-types:\n      - "aws_e2_instance"\n      - "aws_bucket"\n      - "AWS::BUCKET"\n      - "*"\n'})}),"\n",(0,r.jsx)(t.admonition,{type:"note",children:(0,r.jsx)(t.p,{children:'The layout yaml must reside inside a folder named "layouts".'})}),"\n",(0,r.jsx)(t.p,{children:'The main entries in the file are the "table" and "catalog" - each affecting the relevant view. Currently, only "table" is supported, but resources hidden will also be hidden from the resource cards.'}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"hide"}),": resource types listed under hide will be invisible in the relevant view."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"resource-types"}),' is a list of strings which must be equivalent to the resource type of the resource in the grain. Note that this depends on the IaC technology which provisioned the resource. For example, an EC2 instance provisioned by terraform will have the type "aws_ec2_instance" while the same EC2 if provisioned by cloudformation will have the type "AWS::EC2::Instance".']}),"\n",(0,r.jsx)(t.li,{children:'"*" is a legitimate value, means to hide all resources from the table view.'}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"Users with VIEW_ENVIRONMENT_INFRASTRUCTURE permission set to true (by default, all users) can turn off the layout from the different views by using the toggle:"}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Locale Dropdown",src:n(3864).A+"",width:"1132",height:"375"})}),"\n"]})]})}function d(e={}){let{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},3864:function(e,t,n){n.d(t,{A:()=>i});let i=n.p+"assets/images/layouts_toggle-18199a13b567417f42e3a43578df8891.png"},4429:function(e,t,n){n.d(t,{R:()=>l,x:()=>o});var i=n(6540);let r={},s=i.createContext(r);function l(e){let t=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);