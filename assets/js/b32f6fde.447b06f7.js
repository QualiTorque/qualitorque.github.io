"use strict";(self.webpackChunktorque=self.webpackChunktorque||[]).push([["6112"],{3063:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>r,toc:()=>c,default:()=>u,metadata:()=>s,assets:()=>l,contentTitle:()=>o});var s=JSON.parse('{"id":"example-blueprints/Kubernetes Compliance","title":"Kubernetes Compliance","description":"Securing and ensuring compliance for deployments across various business processes can present challenges, particularly when organizations doesn\'t use a centralized approach for self-service, CI/CD, and other deployment methods. Implementing a Torque blueprint that includes deployment validations offers a recommended approach to orchestrate, track changes, and maintain consistency, thus establishing a best practice for secure deployments.","source":"@site/docs/example-blueprints/Kubernetes Compliance.md","sourceDirName":"example-blueprints","slug":"/example-blueprints/Kubernetes Compliance","permalink":"/example-blueprints/Kubernetes Compliance","draft":false,"unlisted":false,"editUrl":"https://github.com/QualiTorque/torque-docs/tree/master/docs/example-blueprints/Kubernetes Compliance.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Kubernetes Compliance"},"sidebar":"torqueSidebar","previous":{"title":"Kubernetes as a Service","permalink":"/example-blueprints/Kubernetes as a Service"},"next":{"title":"Cross Account Provisioning (AWS)","permalink":"/example-blueprints/Cross Account Provisioning"}}'),a=t(4848),i=t(4429);let r={sidebar_position:3,title:"Kubernetes Compliance"},o=void 0,l={},c=[];function p(e){let n={a:"a",blockquote:"blockquote",code:"code",img:"img",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"Securing and ensuring compliance for deployments across various business processes can present challenges, particularly when organizations doesn't use a centralized approach for self-service, CI/CD, and other deployment methods. Implementing a Torque blueprint that includes deployment validations offers a recommended approach to orchestrate, track changes, and maintain consistency, thus establishing a best practice for secure deployments."}),"\n",(0,a.jsxs)(n.p,{children:["The following environment was orchestrated form a blueprint with multiple grains. The initial deployment process downloads the latest deployment files and validate them through a set of open-source tools - ",(0,a.jsx)(n.a,{href:"https://www.datree.io/",children:"Datree.io"})," and ",(0,a.jsx)(n.a,{href:"https://github.com/kubescape/kubescape",children:"Kubescape"}),". Once only the validation is done and the score meets the criteria, the application deployment will take place."]}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Environment Validations",src:t(7366).A+"",width:"1627",height:"569"})}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:'Note that in some cases, it might take time for Kubernetes deployment in the cloud to be fully exposed to external communication. In this case, we\'ve added a "health-check" grain that will wait for the externally ingress to be fully reachable and additional validation to make sure the application is up and running.'}),"\n",(0,a.jsxs)(n.p,{children:["Here is an example of how we execute ",(0,a.jsx)(n.a,{href:"https://www.datree.io/",children:"Datree.io"})," in the above environment using the Shell grain:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:'\ngrains:\n  validate-datree:\n    kind: shell\n    spec:\n      files:\n        - source: microservices-boutique-demo\n          path: release/kubernetes-manifests.yaml\n      agent:\n        name: \'{{ inputs.host }}\'\n      activities:\n        deploy:\n          commands:\n            - "apt-get -y install git unzip curl"\n            - "curl https://get.datree.io | /bin/bash"\n            - "datree config set token <personal token>"\n            - "datree test ./kubernetes-manifests.yaml -o simple --ignore-missing-schemas"\n\n'})})]})}function u(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}},7366:function(e,n,t){t.d(n,{A:()=>s});let s=t.p+"assets/images/env-shell-55436e33c6f95e83a18649efc00a4080.png"},4429:function(e,n,t){t.d(n,{R:()=>r,x:()=>o});var s=t(6540);let a={},i=s.createContext(a);function r(e){let n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);