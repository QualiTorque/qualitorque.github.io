<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-getting-started/Import cloud resources" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>Import Cloud Resources | Torque</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content="https://docs.qtorque.io/getting-started/Import cloud resources"><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Import Cloud Resources | Torque"><meta data-rh=true name=description content="Torque Control plane helps you to accelerate migration of existing cloud resources into fully managed Torque environments with a few simple steps regardless of how the resources were deploy in the cloud in the first place."><meta data-rh=true property=og:description content="Torque Control plane helps you to accelerate migration of existing cloud resources into fully managed Torque environments with a few simple steps regardless of how the resources were deploy in the cloud in the first place."><link data-rh=true rel=icon href=/img/favicon.ico><link data-rh=true rel=canonical href="https://docs.qtorque.io/getting-started/Import cloud resources"><link data-rh=true rel=alternate href="https://docs.qtorque.io/getting-started/Import cloud resources" hreflang=en><link data-rh=true rel=alternate href="https://docs.qtorque.io/getting-started/Import cloud resources" hreflang=x-default><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://docs.qtorque.io/getting-started/Import cloud resources","name":"Import Cloud Resources","position":1}]}</script><script src=https://cdn.cookielaw.org/consent/31859194-4ed7-4958-bfc5-08046e0f6ab7/OtAutoBlock.js type=text/javascript></script><script src=https://cdn.cookielaw.org/scripttemplates/otSDKStub.js charset=UTF-8 type=text/javascript data-domain-script=31859194-4ed7-4958-bfc5-08046e0f6ab7></script><script src=http://docs.qtorque.io/one-trust.js type=text/javascript></script><link rel=stylesheet href=/assets/css/styles.51ff6c39.css><script src=/assets/js/runtime~main.71872760.js defer></script><script src=/assets/js/main.64ae69a7.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light",e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/logo.png alt=Torque class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/img/logo-dm.png alt=Torque class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href=https://github.com/QualiTorque/torque-docs/discussions/categories/announcements target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-announcments-link"></a><a href=https://github.com/QualiTorque/torque-docs target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><div class="navbar__search searchBarContainer_NW3z" dir=ltr><input placeholder=Search aria-label=Search class=navbar__search-input value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/>Welcome!</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href="/overview/The Torque Terminology">üå¥ Torque Overview</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true href="/getting-started/Resources Inventory/Resources-Inventory">üöÄ Getting Started</a></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href="/getting-started/Resources Inventory/Resources-Inventory">Resources Inventory</a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href="/getting-started/Getting starting with terraform">Provision Terraform</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href="/getting-started/Getting starting with kubernetes">Install Torque Agent</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href="/getting-started/Import cloud resources">Import Cloud Resources</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href="/getting-started/Discover Your Assets">Asset Discovery</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/environment-services/drift-and-update>üîó Environment Services</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href="/example-blueprints/Multi-Technology Orchestration">üëÄ Example Blueprints</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/blueprint-designer-guide/blueprint-quickstart-guide>üìÉ Blueprint Designer Guide</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/environment-as-code/environment-as-code-overview>‚òÅ Environment As Code</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/workflows/workflows-overview>‚ñ∂Ô∏è Workflows</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/governance/roles-and-permissions>üåç Governance</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/admin-guide/configurations>‚≠ê Administration</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/eco-system/integrations-overview>ü§ù Integrations</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/torque-agent/Torque-Agent-Intro>‚öô Self-Hosted Agent</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/reports/reports-overview>üìä Reports</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/rest-api>üñ• REST API</a><button aria-label="Expand sidebar category 'üñ• REST API'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/privacy>üîê Privacy</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/help/how-to-use-the-kb>üîé Need Help?</a></div></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><span class=breadcrumbs__link>üöÄ Getting Started</span><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Import Cloud Resources</span></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><p><strong>Torque Control plane</strong> helps you to accelerate migration of existing cloud resources into fully managed Torque environments with a few simple steps regardless of how the resources were deploy in the cloud in the first place.</p>
<p>In the below article, we will cover the following steps for importing cloud resources into Torque using Terraform generation:</p>
<ol>
<li>Generate <strong>Terraform code (modules)</strong> representing your existing deployed resources in the cloud.</li>
<li>Generate <strong>Terraform state file</strong> that represent the deployment status.</li>
<li>Generate <strong>Torque blueprint</strong> that uses the Terraform code as an automation grain.</li>
<li>Import your cloud resources into a fully managed <strong>Torque Environment</strong>.</li>
</ol>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>NOTE: This guide will focus on AWS workloads as an example, but it's possible to use it for other cloud providers (cloud and on-prem), network providers, monitoring systems and more.</div></div>
<p><img decoding=async loading=lazy alt="import flow" src=/assets/images/tf-export-5630fa2d1c43f7fc6765d173df69d1b3.png width=949 height=419 class=img_ev3q></p>
<header><h1>Importing an Environment into Torque</h1></header>
<p>This guide walks you through the process of importing an existing environment into Torque, starting from resource curation to final import using the API. Follow these steps to successfully onboard an environment into Torque.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=step-1-curate-and-codify-a-resource>Step 1: Curate and codify a Resource<a href=#step-1-curate-and-codify-a-resource class=hash-link aria-label="Direct link to Step 1: Curate and codify a Resource" title="Direct link to Step 1: Curate and codify a Resource">‚Äã</a></h4>
<ul>
<li>Start by curating the resource you want to manage in Torque. After curating, you'll obtain the Terraform files and the corresponding <code>tfstate</code> file.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=step-2-edit-the-providers-file>Step 2: Edit the Providers File<a href=#step-2-edit-the-providers-file class=hash-link aria-label="Direct link to Step 2: Edit the Providers File" title="Direct link to Step 2: Edit the Providers File">‚Äã</a></h4>
<ul>
<li>Open the <code>providers</code> file within the Terraform files and remove the following sensitive credentials:<!-- -->
<ul>
<li>Access Key</li>
<li>Secret Key</li>
<li>Token</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=step-3-upload-terraform-files-to-git>Step 3: Upload Terraform Files to Git<a href=#step-3-upload-terraform-files-to-git class=hash-link aria-label="Direct link to Step 3: Upload Terraform Files to Git" title="Direct link to Step 3: Upload Terraform Files to Git">‚Äã</a></h4>
<ul>
<li>Upload all the Terraform files, excluding the <code>tfstate</code> file, to your Git repository. For this example, place them under the folder <code>terraform/curate-example</code>.</li>
</ul>
<blockquote>
<p><img decoding=async loading=lazy alt="import flow" src=data:image/png;base64,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 width=230 height=148 class=img_ev3q></p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=step-4-create-a-matching-blueprint>Step 4: Create a Matching Blueprint<a href=#step-4-create-a-matching-blueprint class=hash-link aria-label="Direct link to Step 4: Create a Matching Blueprint" title="Direct link to Step 4: Create a Matching Blueprint">‚Äã</a></h4>
<ul>
<li>
<p>Create a corresponding Torque blueprint for the environment, named <code>curate-example.yaml</code>. Here's an example blueprint:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token key atrule" style=color:#00a4db>spec_version</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>2</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key atrule" style=color:#00a4db>inputs</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token key atrule" style=color:#00a4db>agent</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key atrule" style=color:#00a4db>type</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'agent'</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key atrule" style=color:#00a4db>grains</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token key atrule" style=color:#00a4db>s3</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key atrule" style=color:#00a4db>kind</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'terraform'</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key atrule" style=color:#00a4db>spec</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token key atrule" style=color:#00a4db>source</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key atrule" style=color:#00a4db>store</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'bps'</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key atrule" style=color:#00a4db>path</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'terraform/curate-example'</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token key atrule" style=color:#00a4db>agent</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key atrule" style=color:#00a4db>name</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'{{ .inputs.agent }}'</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token key atrule" style=color:#00a4db>inputs</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>]</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>Note</strong>: There is no need to specify the Terraform backend in the blueprint.</p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=step-5-create-an-s3-bucket-and-upload-the-tfstate-file>Step 5: Create an S3 Bucket and upload the tfstate File<a href=#step-5-create-an-s3-bucket-and-upload-the-tfstate-file class=hash-link aria-label="Direct link to Step 5: Create an S3 Bucket and upload the tfstate File" title="Direct link to Step 5: Create an S3 Bucket and upload the tfstate File">‚Äã</a></h4>
<ul>
<li>Create a new S3 bucket to store the <code>tfstate</code> file, which will act as the Terraform backend for state management.</li>
<li>Upload the <code>tfstate</code> file you received during the curation process to the S3 bucket created.</li>
</ul>
<blockquote>
<p><img decoding=async loading=lazy alt="state in s3" src=/assets/images/tfstate-aws-c68d4591e4ace6845fa6ca116ccc9d04.png width=750 height=355 class=img_ev3q></p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=step-6-use-the-import-api>Step 6: Use the Import API<a href=#step-6-use-the-import-api class=hash-link aria-label="Direct link to Step 6: Use the Import API" title="Direct link to Step 6: Use the Import API">‚Äã</a></h4>
<ul>
<li>
<p>To import the environment using the Torque API, make the following POST request using <code>curl</code>.</p>
</li>
<li>
<p>The API response will include the <code>environment-id</code>. After importing, you will see an import step, followed by an apply step with Torque tags applied to the environment.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token function" style=color:#d73a49>curl</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>-X</span><span class="token plain"> POST </span><span class="token string" style=color:#e3116c>"https://portal.qtorque.io/api/spaces/{space_name}/environments/import_using_blueprint"</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token parameter variable" style=color:#36acaa>-H</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Content-Type: application/json"</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token parameter variable" style=color:#36acaa>-d</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'{</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>  "source": {</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>    "blueprint_name": "curate-example",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>    "repository_name": "bps"</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>  },</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>  "environment_name": "my-env",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>  "owner_email": "email@quali.com",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>  "grains": [</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>    {</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>      "kind": "terraform",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>      "name": "s3",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>      "agent": {</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>        "name": "agent-name"</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>      },</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>      "backend": {</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>        "type": "s3",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>        "bucket": "my-state-bucket",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>        "region": "eu-west-1",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>        "key": "terraform/terraform.tfstate"</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>      }</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>    }</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>  ],</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>  "inputs": {</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>    "agent": "agent-name"</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>  }</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>}'</span><br></span></code></pre></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=important-considerations>Important Considerations<a href=#important-considerations class=hash-link aria-label="Direct link to Important Considerations" title="Direct link to Important Considerations">‚Äã</a></h3>
<ul>
<li>
<p><strong>Destroying Resources</strong>: If you are importing a resource that already exists in the cloud, keep in mind that ending the environment in Torque will destroy the resource.</p>
</li>
<li>
<p>To avoid unintended deletion, you can release the environment by running the following API command using <code>curl</code>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token function" style=color:#d73a49>curl</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>-X</span><span class="token plain"> DELETE </span><span class="token string" style=color:#e3116c>"https://portal.qtorque.io/api/spaces/{space_name}/environments/{environment_id}/release?force={false/true}"</span><br></span></code></pre></div></div>
</li>
<li>
<p>Use the <code>release</code> API to ensure resources are not deleted during the termination process.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=importing-terraform-state-from-another-aws-account>Importing Terraform State from Another AWS Account<a href=#importing-terraform-state-from-another-aws-account class=hash-link aria-label="Direct link to Importing Terraform State from Another AWS Account" title="Direct link to Importing Terraform State from Another AWS Account">‚Äã</a></h3>
<p>To import Terraform states from another account that cannot be accessed directly by the IAM role associated with the agent, follow these steps:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=1-set-up-iam-role-in-target-account>1. Set Up IAM Role in Target Account<a href=#1-set-up-iam-role-in-target-account class=hash-link aria-label="Direct link to 1. Set Up IAM Role in Target Account" title="Direct link to 1. Set Up IAM Role in Target Account">‚Äã</a></h4>
<ul>
<li>Ensure the IAM role in the target account has a trust relationship that allows the role used in the automation account to assume the target account role.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=2-configure-import-payload>2. Configure Import Payload<a href=#2-configure-import-payload class=hash-link aria-label="Direct link to 2. Configure Import Payload" title="Direct link to 2. Configure Import Payload">‚Äã</a></h4>
<ul>
<li>Add the following to the import payload:</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> </span><span class="token function" style=color:#d73a49>curl</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>-X</span><span class="token plain"> POST </span><span class="token string" style=color:#e3116c>"https://portal.qtorque.io/api/spaces/{space_name}/environments/import_using_blueprint"</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>-H</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Content-Type: application/json"</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>-d</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'{</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>   "grains": [</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>     {</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>       "kind": "terraform",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>       "name": "s3",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>       "agent": {</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>         "name": "agent-name"</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>       },</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>       "backend": {</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>         "type": "s3",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>         "bucket": "my-state-bucket",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>         "region": "eu-west-1",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>         "key": "terraform/terraform.tfstate",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>         "role-arn": "&lt;arn-of-target-account-role>" # set up the target role-arn that has access to the bucket and key configured above</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>       }</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>     }</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>   ]</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c> }'</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=important-notes>Important Notes<a href=#important-notes class=hash-link aria-label="Direct link to Important Notes" title="Direct link to Important Notes">‚Äã</a></h4>
<ol>
<li>Terraform version 1.5.7 is recommended. You can set it in the blueprint or in the import request</li>
<li>You might need to use another role in the blueprint as well, using the provider-overrides feature</li>
</ol>
<hr>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><ol>
<li>Make sure to provide the Torque authentication token. This can be a short or long-token</li>
<li>The source section points to the blueprint generated and the repository name onboarded to Torque.</li>
<li>The backend section added in under the grain should point to the state file exported and uploaded to the backend of choice.</li>
</ol></div></div>
<p>By following these steps, you'll be able to successfully import and manage an environment in Torque while ensuring security and state management.</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href="https://github.com/QualiTorque/torque-docs/tree/master/docs/getting-started/Import cloud resources.md" target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/getting-started/Getting starting with kubernetes"><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Install Torque Agent</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/getting-started/Discover Your Assets"><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Asset Discovery</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#important-considerations class="table-of-contents__link toc-highlight">Important Considerations</a><li><a href=#importing-terraform-state-from-another-aws-account class="table-of-contents__link toc-highlight">Importing Terraform State from Another AWS Account</a></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Company</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://www.quali.com/ target=_blank rel="noopener noreferrer" class=footer__link-item>Quali Website<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://www.quali.com/careers/ target=_blank rel="noopener noreferrer" class=footer__link-item>Careers<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/QualiTorque/torque-docs/discussions target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub Community<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://twitter.com/qualisystems target=_blank rel="noopener noreferrer" class=footer__link-item>Twitter<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://www.quali.com/blog/ target=_blank rel="noopener noreferrer" class=footer__link-item>Quali blog<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/QualiTorque/torque-docs target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div></div></div></footer></div>