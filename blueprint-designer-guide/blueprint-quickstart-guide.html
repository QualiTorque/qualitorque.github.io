<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-blueprint-designer-guide/blueprint-quickstart-guide">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<title data-rh="true">Blueprint Design | Torque</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/blueprint-designer-guide/blueprint-quickstart-guide"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Blueprint Design | Torque"><meta data-rh="true" name="description" content="In this article:"><meta data-rh="true" property="og:description" content="In this article:"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/blueprint-designer-guide/blueprint-quickstart-guide"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/blueprint-designer-guide/blueprint-quickstart-guide" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/blueprint-designer-guide/blueprint-quickstart-guide" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.dee70a4f.css">
<link rel="preload" href="/assets/js/runtime~main.9e4267c3.js" as="script">
<link rel="preload" href="/assets/js/main.2467c89a.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/QualiTorque/torque-docs/discussions/categories/announcements" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-announcments-link"></a><a href="https://github.com/QualiTorque/torque-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><div class="torque-brand"></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Welcome to Torque!</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/overview/The Torque Terminology">üå¥ Torque Overview</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/getting-started/Getting starting with terraform">üöÄ Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/environment-services/Drift and update">üîó Environment Services</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/example-blueprints/Multi-Technology Orchestration">üëÄ Example Blueprints</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/blueprint-designer-guide/blueprint-quickstart-guide">üìÉ Blueprint Designer Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/blueprint-designer-guide/blueprint-quickstart-guide">Blueprint Design</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/blueprint-designer-guide/blueprints/blueprints-overview">The Blueprint YAML</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blueprint-designer-guide/Autogenerated Blueprints">Auto-generated Blueprints</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blueprint-designer-guide/Policies">Blueprint Policies</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/governance/roles-and-permissions">üåç Governance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/admin-guide/appearance">‚≠ê Administration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/eco-system/integrations-overview">ü§ù Integrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/torque-agent/Torque-Agent-Intro">‚öô Self-Hosted Agent</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/rest-api">üñ• REST API</a><button aria-label="Toggle the collapsible sidebar category &#x27;üñ• REST API&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/privacy">üîê Privacy</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/help/how-to-use-the-kb">üîé Need Help?</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/">üè†</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">üìÉ Blueprint Designer Guide</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">Blueprint Design</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Blueprint Design</h1></header><p>In this article:</p><ul><li><a href="#what-is-a-torque-blueprint">What is a Torque blueprint?</a></li><li><a href="#option-a-let-torque-generate-blueprints-from-your-assets">Option A: Let Torque generate blueprints from your assets</a></li><li><a href="#option-b-create-a-multi-asset-blueprint-in-your-source-control-repository">Option B: Create a multi-asset blueprint in your source control repository</a></li><li><a href="#example-multi-grain-blueprint-2-webgame-on-s3-using-cloudformation-and-terraform">Example multi-grain blueprint 2: Webgame on S3 (using CloudFormation and Terraform)</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-is-a-torque-blueprint">What is a Torque blueprint?<a class="hash-link" href="#what-is-a-torque-blueprint" title="Direct link to heading">‚Äã</a></h2><p>A blueprint is a template for provisioning an environment that contains references to different IaC Components (&quot;Grains&quot;) that together define the applications, cloud infrastructure, networking and policies that make up a specific environment to be deployed. Blueprints are stored as source-controlled YAML files, and each grain in a blueprint is a reference to one IaC or automation file (for example, a Terraform module or a Helm chart) that will be deployed as part of the environment, and the component&#x27;s designated inputs, outputs and execution information. </p><p>A blueprint also contains the orchestration between the grains (provisioning order and dependencies, shared parameter storage, environment duration policies, tag values, etc.), and when launched, deploys a whole environment, from the infrastructure layer to the application itself. </p><p>You can have Torque discover (i.e. generate) blueprints out of your existing Terraform, Helm, CloudFormation, or other supported IaC assets, or you can develop more sophisticated blueprints that deploy a complex environment comprising multiple grains and/or nested blueprints.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="option-a-let-torque-generate-blueprints-from-your-assets">Option A: Let Torque generate blueprints from your assets<a class="hash-link" href="#option-a-let-torque-generate-blueprints-from-your-assets" title="Direct link to heading">‚Äã</a></h2><p>When developing a new blueprint, Torque provides you with the ability to automatically discover the different IaC and Automation assets in your connected source control repository, and generate a blueprint for a single asset (or generate multiple single-asset blueprints in one go). </p><p>These generated blueprints are stored in Torque&#x27;s backend, and you can customize their inputs, outputs and other details as needed inside an embedded VSCode style IDE from within the Torque Portal. For details on what you can do with generated blueprints, see <a href="/blueprint-designer-guide/autogenerated blueprints">Autogenerated Blueprints</a>.</p><ol><li>In your space, go to <strong>Settings &gt; Repositories</strong> and discover your assets.</li></ol><blockquote><p><img loading="lazy" alt="Locale Dropdown" src="/assets/images/discover-assets-0a2937b3d793f687123a994daf6ee531.png" width="1233" height="431" class="img_E7b_"></p></blockquote><ol start="2"><li>Select one or more assets you want Torque to discover and click <strong>Generate Blueprints</strong>.</li></ol><blockquote><p><img loading="lazy" alt="Locale Dropdown" src="/assets/images/select-assets-d2c268b7b3d1da83e89563a8dabd7e6f.png" width="925" height="687" class="img_E7b_"></p></blockquote><p>  Torque creates a blueprint YAML for each selected asset, and lists the blueprints in your space‚Äôs <strong>Blueprints</strong> page. </p><blockquote><p><img loading="lazy" alt="Locale Dropdown" src="/assets/images/new-assets-9dea11e9582ddde3dd5212cd834df2d9.png" width="1483" height="381" class="img_E7b_"></p></blockquote><ol start="3"><li>You can click the blueprint to open it in the embedded VSCode editor. In this editor you can view the blueprint&#x27;s contents, modify it, preview changes after modification, save the changes, and launch an environment fron the blueprint.</li></ol><ol start="4"><li>(Optional) You can set the blueprint&#x27;s max duration policy, default duration, attach labels and colors to visually group blueprints according to shared  characteristics, or set the blueprint&#x27;s tag values.</li></ol><blockquote><p><img loading="lazy" alt="Locale Dropdown" src="/assets/images/blueprint-options-b9a80b8654c561441ca265d63cfca6fe.png" width="413" height="384" class="img_E7b_"></p></blockquote><ol start="5"><li><strong>Publish</strong> the blueprints to your space&#x27;s catalog and you‚Äôre good to go.</li></ol><blockquote><p><img loading="lazy" alt="Locale Dropdown" src="/assets/images/publish-blueprint-3256f4e957a35dbfc3167532de769a61.png" width="678" height="405" class="img_E7b_"></p></blockquote><p>  You and your space‚Äôs users can now launch environments from these blueprints via the <strong>Catalog</strong>. </p><h2 class="anchor anchorWithStickyNavbar_mojV" id="option-b-create-a-multi-asset-blueprint-in-your-source-control-repository">Option B: Create a multi-asset blueprint in your source control repository<a class="hash-link" href="#option-b-create-a-multi-asset-blueprint-in-your-source-control-repository" title="Direct link to heading">‚Äã</a></h2><p>So far, we‚Äôve learned how to create single-asset blueprints via autogeneration. But what if you want to create an application-stack environment? This is easily done by having multiple grains in a single blueprint or nesting an existing blueprint within a master blueprint as a grain. To create such a blueprint, you will need an IDE environment that has access to a clone of your repository, in which you can create the new blueprint&#x27;s YAML file and edit it, and then commit it into your repository and push the changes to the remote repository from which Torque will automatically synchronize the new blueprint.</p><p>By enforcing usage of a source control repository, each blueprint in Torque will have:</p><ul><li>A full history of tracked changes</li><li>The ability to identify which developer authored those changes</li><li>The ability to retrieve or rollback to the contents of previous versions of the blueprint file</li></ul><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span><strong>Tips</strong></h5></div><div class="admonition-content"><ul><li>If you are using VSCode to create and edit your blueprint file, we recommend using our official VSCode plugin (link here). For other IDEs, you can download our <a href="https://github.com/QualiTorque/torque-vs-code-extensions/blob/master/client/schemas/blueprint-spec2-schema.json" target="_blank" rel="noopener noreferrer">official JSON schema</a> for the blueprint YAML and enforce it with your plugin of choice. </li><li>When connecting a repository containing blueprint files to Torque, it is possible to reference a branch of the repository and not its main, allowing designers the ability to test changes to blueprints before pushing them to the main/master branch and affecting the production catalog. </li></ul></div></div><p><strong>To create a multi-asset blueprint:</strong></p><ol><li>Generate a single-asset blueprint for the first grain in your blueprint, as explained in <a href="#option-a-let-torque-generate-blueprints-from-your-assets">Let Torque autogenerate blueprints from your assets</a>.</li><li>Download the blueprint as a file from Torque.<blockquote><p><img loading="lazy" alt="Locale Dropdown" src="/assets/images/download_blueprint-yaml-922e008272cf80ab7cf841d6de9b1d3b.png" width="1126" height="248" class="img_E7b_"></p></blockquote></li><li>Save the file in the &quot;/blueprints&quot; folder in your cloned repository (create it if it doesn&#x27;t exist) and rename it to the name of the new blueprint.</li><li>Modify the grain type and spec to reflect the new component of your environment. For example:<div class="codeBlockContainer_I0IT language-&quot;yaml theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-&quot;yaml codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">grains:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">database:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  kind: terraform</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spec:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    source:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      store: infra </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      path: terraform/rds</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li><li>For each additional grain, do one of the following:<ul><li>Copy an example of that grain from a generated blueprint.</li><li>Use the sample structure for that grain type in the corresponding page in <a href="/blueprint-designer-guide/blueprints/blueprints-overview">The Blueprint YAML</a>.</li></ul></li><li>If grains depend on each other, add a <code>depends-on</code> section to the grain (in the top level, next to <code>kind:</code> and <code>spec:</code>) and provide the names of the dependent grains in a comma-separated list. </li><li>Once a grain depends on another grain, the output values from that grain can be used as values for any of the grain&#x27;s inputs or attributes using the syntax <code>{{ .grains.grain_name.outputs.output_name}}</code>, see the examples below. </li><li>Customize the <code>inputs</code> and <code>outputs</code> sections of the blueprint to contain only the relevant inputs that the entire environment needs, and to reflect the outputs from the grains that you would like to make available to the environment&#x27;s end-user.</li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="removing-a-blueprint">Removing a blueprint<a class="hash-link" href="#removing-a-blueprint" title="Direct link to heading">‚Äã</a></h2><p>As mentioned above, there are two types of blueprints, autogenerated blueprints (stored in Torque) and source-controlled blueprints (stored in your repository). </p><p>To delete an autogenerated blueprint, in the <strong>Blueprints</strong> page, click the blueprint&#x27;s more options button and select <strong>Remove</strong>.</p><blockquote><p><img loading="lazy" alt="Locale Dropdown" src="/assets/images/remove-blueprint-d11d215b53950d893ecfc50e7f9a5115.png" width="405" height="358" class="img_E7b_"></p></blockquote><p>To delete a repository blueprint, delete the blueprint file from the repository&#x27;s branch that the Torque space is connected to.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="example-multi-grain-blueprint-1-helm-application-with-mysql-and-s3-deployed-by-terraform">Example multi-grain blueprint 1: Helm Application with MySQL and S3 Deployed by Terraform<a class="hash-link" href="#example-multi-grain-blueprint-1-helm-application-with-mysql-and-s3-deployed-by-terraform" title="Direct link to heading">‚Äã</a></h3><p>This blueprint is available in the <strong>Sample</strong> space <a href="https://portal.qtorque.io/Sample/blueprints/%5BSample%5DHelm%20Application%20with%20MySql%20and%20S3%20Deployed%20by%20Terraform" target="_blank" rel="noopener noreferrer">here</a>, which deploys 2 Terraform modules and a Helm chart:</p><div class="codeBlockContainer_I0IT language-jsx theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-jsx codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token literal-property property">spec_version</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token literal-property property">description</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Robotshot</span><span class="token plain"> microservices application deployed on </span><span class="token constant" style="color:rgb(189, 147, 249)">K8S</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">with</span><span class="token plain"> </span><span class="token maybe-class-name">Helm</span><span class="token plain"> and </span><span class="token constant" style="color:rgb(189, 147, 249)">RDS</span><span class="token plain"> deployed </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">with</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">TF</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token literal-property property">outputs</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">WebsiteUrl</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">kind</span><span class="token operator">:</span><span class="token plain"> link</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">value</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;https://portal.qtorque.io/static/demo-quick-links/stans-robot-shop.html&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token literal-property property">grains</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">mySqlDB</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">kind</span><span class="token operator">:</span><span class="token plain"> terraform</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">spec</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">source</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token plain"> github</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">com</span><span class="token operator">/</span><span class="token maybe-class-name">QualiTorque</span><span class="token operator">/</span><span class="token plain">samples</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">git</span><span class="token comment" style="color:rgb(98, 114, 164)">//terraform/rds</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">agent</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token plain"> eks</span><span class="token operator">-</span><span class="token plain">demo</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">inputs</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">-</span><span class="token plain"> sandbox_id</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{{ sandboxid | downcase }}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">-</span><span class="token plain"> size</span><span class="token operator">:</span><span class="token plain"> small </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">-</span><span class="token plain"> allocated_storage</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">20</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">-</span><span class="token plain"> db_name</span><span class="token operator">:</span><span class="token plain"> demo_db</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">-</span><span class="token plain"> engine_version</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">8.0</span><span class="token number">.26</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">-</span><span class="token plain"> engine</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">MySQL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">-</span><span class="token plain"> username</span><span class="token operator">:</span><span class="token plain"> adminuser</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">-</span><span class="token plain"> vpc_id</span><span class="token operator">:</span><span class="token plain"> vpc</span><span class="token operator">-</span><span class="token plain">02e3bca90b081cd0f</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">-</span><span class="token plain"> region</span><span class="token operator">:</span><span class="token plain"> us</span><span class="token operator">-</span><span class="token plain">east</span><span class="token operator">-</span><span class="token number">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">outputs</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">-</span><span class="token plain"> hostname</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">-</span><span class="token plain"> connection_string</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">s3Bucket</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">kind</span><span class="token operator">:</span><span class="token plain"> terraform</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">spec</span><span class="token operator">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">source</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token plain"> github</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">com</span><span class="token operator">/</span><span class="token maybe-class-name">QualiTorque</span><span class="token operator">/</span><span class="token plain">samples</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">git</span><span class="token comment" style="color:rgb(98, 114, 164)">//terraform/s3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">agent</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token plain"> eks</span><span class="token operator">-</span><span class="token plain">demo</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">inputs</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">-</span><span class="token plain"> region</span><span class="token operator">:</span><span class="token plain"> eu</span><span class="token operator">-</span><span class="token plain">west</span><span class="token operator">-</span><span class="token number">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">-</span><span class="token plain"> acl</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token operator">-</span><span class="token plain">read</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">-</span><span class="token plain"> name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;robotshop-s3-{{ sandboxid | downcase }}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">outputs</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">-</span><span class="token plain"> s3_bucket_arn</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">robotShopMicroservices</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">kind</span><span class="token operator">:</span><span class="token plain"> helm</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    depends</span><span class="token operator">-</span><span class="token plain">on</span><span class="token operator">:</span><span class="token plain"> mySqlDB</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> s3Bucket</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">spec</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">source</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token plain"> https</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token plain">github</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">com</span><span class="token operator">/</span><span class="token maybe-class-name">QualiTorque</span><span class="token operator">/</span><span class="token plain">samples</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">git</span><span class="token comment" style="color:rgb(98, 114, 164)">//helm/robotshop</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">agent</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token plain"> eks</span><span class="token operator">-</span><span class="token plain">demo</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">inputs</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">-</span><span class="token plain"> hostname</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;robotshop-{{ sandboxid | downcase }}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">-</span><span class="token plain"> version</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">0.4</span><span class="token number">.3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">-</span><span class="token plain"> connectionString</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{{ .grains.mySqlDB.outputs.connection_string }}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">-</span><span class="token plain"> objectStore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">s3BucketArn</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{{ .grains.s3Bucket.outputs.s3_bucket_arn }}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">-</span><span class="token plain"> redis</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">storageClassName</span><span class="token operator">:</span><span class="token plain"> gp2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="example-multi-grain-blueprint-2-webgame-on-s3-using-cloudformation-and-terraform">Example multi-grain blueprint 2: Webgame on S3 (using CloudFormation and Terraform)<a class="hash-link" href="#example-multi-grain-blueprint-2-webgame-on-s3-using-cloudformation-and-terraform" title="Direct link to heading">‚Äã</a></h2><div class="codeBlockContainer_I0IT language-jsx theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-jsx codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token literal-property property">spec_version</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token literal-property property">description</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;S3 Bucket creation with Input and Output parameters&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token literal-property property">inputs</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   # </span><span class="token maybe-class-name">The</span><span class="token plain"> access_control property is </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">case</span><span class="token operator">-</span><span class="token plain">sensitive and must be one </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">of</span><span class="token plain"> the following values</span><span class="token operator">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   # </span><span class="token maybe-class-name">Private</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token maybe-class-name">PublicRead</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token maybe-class-name">PublicReadWrite</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token maybe-class-name">AuthenticatedRead</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token maybe-class-name">LogDeliveryWrite</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token maybe-class-name">BucketOwnerRead</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token maybe-class-name">BucketOwnerFullControl</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> or </span><span class="token maybe-class-name">AwsExecRead</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token maybe-class-name">Access</span><span class="token plain"> </span><span class="token maybe-class-name">Control</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">type</span><span class="token operator">:</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">description</span><span class="token operator">:</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token maybe-class-name">Type</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">of</span><span class="token plain"> access to configure on </span><span class="token maybe-class-name">Bucket</span><span class="token plain"> objects</span><span class="token operator">:</span><span class="token plain"> </span><span class="token maybe-class-name">Private</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token maybe-class-name">PublicRead</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token maybe-class-name">PublicReadWrite</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token maybe-class-name">AuthenticatedRead</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token maybe-class-name">LogDeliveryWrite</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token maybe-class-name">BucketOwnerRead</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token maybe-class-name">BucketOwnerFullControl</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> or </span><span class="token maybe-class-name">AwsExecRead</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">default</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;PublicRead&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      allowed</span><span class="token operator">-</span><span class="token plain">values</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Private&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;PublicRead&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;PublicReadWrite&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token maybe-class-name">Bucket</span><span class="token plain"> </span><span class="token maybe-class-name">Name</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">type</span><span class="token operator">:</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">default</span><span class="token operator">:</span><span class="token plain"> my</span><span class="token operator">-</span><span class="token plain">bucket</span><span class="token operator">-</span><span class="token plain">test</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token constant" style="color:rgb(189, 147, 249)">AWS</span><span class="token plain"> </span><span class="token literal-property property">Region</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">description</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;The name of the AWS Region to use&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">default</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;us-west-1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      allowed</span><span class="token operator">-</span><span class="token plain">values</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;us-west-1&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;us-west-2&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;eu-west-1&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token literal-property property">outputs</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token constant" style="color:rgb(189, 147, 249)">S3</span><span class="token plain"> </span><span class="token maybe-class-name">Bucket</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">ARN</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token literal-property property">value</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{{ .grains.my-S3-Bucket.outputs.Arn }}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token constant" style="color:rgb(189, 147, 249)">S3</span><span class="token plain"> </span><span class="token maybe-class-name">Bucket</span><span class="token plain"> </span><span class="token maybe-class-name">Domain</span><span class="token plain"> </span><span class="token maybe-class-name">Name</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token literal-property property">value</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{{ .grains.my-S3-Bucket.outputs.DomainName }}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token literal-property property">kind</span><span class="token operator">:</span><span class="token plain"> link</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token maybe-class-name">Webgame</span><span class="token plain"> </span><span class="token maybe-class-name">Link</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token literal-property property">value</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{{ .grains.S3-Upload-Webapp-File.outputs.website_link }}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token literal-property property">kind</span><span class="token operator">:</span><span class="token plain"> link</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token literal-property property">grains</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token constant" style="color:rgb(189, 147, 249)">CFN</span><span class="token operator">-</span><span class="token constant" style="color:rgb(189, 147, 249)">S3</span><span class="token operator">-</span><span class="token maybe-class-name">Bucket</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">kind</span><span class="token operator">:</span><span class="token plain"> cloudformation</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">spec</span><span class="token operator">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">source</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        # store</span><span class="token operator">:</span><span class="token plain"> autogen_repo_sandbox_2453f24g9</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token plain"> https</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token spread operator">...</span><span class="token operator">/</span><span class="token maybe-class-name">AWSS3Bucket</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">region</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{{ .inputs.[&quot;AWS Region&quot;] }}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">authentication</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        role</span><span class="token operator">-</span><span class="token plain">arn</span><span class="token operator">:</span><span class="token plain"> arn</span><span class="token operator">:</span><span class="token plain">aws</span><span class="token operator">:</span><span class="token plain">iam</span><span class="token operator">:</span><span class="token operator">:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">params</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access maybe-class-name">My_Torque_AWS</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token operator">:</span><span class="token plain">role</span><span class="token operator">/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">params</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access maybe-class-name">My_Torque_Agent_IAM_Role</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        external</span><span class="token operator">-</span><span class="token plain">id</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{{ .params.My_Torque_External_ID }}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">inputs</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">-</span><span class="token plain"> </span><span class="token maybe-class-name">AccessControl</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{{ .inputs.[&quot;Access Control&quot;] }}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">-</span><span class="token plain"> </span><span class="token maybe-class-name">BucketName</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{{ .inputs.[&quot;Bucket Name&quot;] }}-{{ sandboxid | downcase }}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">outputs</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">         </span><span class="token operator">-</span><span class="token plain"> </span><span class="token maybe-class-name">Arn</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">         </span><span class="token operator">-</span><span class="token plain"> </span><span class="token maybe-class-name">DomainName</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token constant" style="color:rgb(189, 147, 249)">S3</span><span class="token operator">-</span><span class="token maybe-class-name">Upload</span><span class="token operator">-</span><span class="token maybe-class-name">Webapp</span><span class="token operator">-</span><span class="token maybe-class-name">File</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">kind</span><span class="token operator">:</span><span class="token plain"> terraform</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    depends</span><span class="token operator">-</span><span class="token plain">on</span><span class="token operator">:</span><span class="token plain"> my</span><span class="token operator">-</span><span class="token constant" style="color:rgb(189, 147, 249)">S3</span><span class="token operator">-</span><span class="token maybe-class-name">Bucket</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token literal-property property">spec</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">source</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token literal-property property">store</span><span class="token operator">:</span><span class="token plain"> assets</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token plain"> assets</span><span class="token operator">/</span><span class="token plain">terraform</span><span class="token operator">/</span><span class="token plain">s3</span><span class="token operator">-</span><span class="token plain">deploy</span><span class="token operator">-</span><span class="token plain">webapp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">agent</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token plain"> demo</span><span class="token operator">-</span><span class="token plain">prod</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        service</span><span class="token operator">-</span><span class="token plain">account</span><span class="token operator">:</span><span class="token plain"> app</span><span class="token operator">-</span><span class="token plain">sa</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">inputs</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token operator">-</span><span class="token plain"> bucket_name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{{ .inputs.[&quot;Bucket Name&quot;] }}-{{ sandboxid | downcase }}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token operator">-</span><span class="token plain"> region</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{{ .inputs.[&quot;AWS Region&quot;] }}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">outputs</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token operator">-</span><span class="token plain"> website_link</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # </span><span class="token maybe-class-name">The</span><span class="token plain"> terraform version that will be used to deploy the module</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    tf</span><span class="token operator">-</span><span class="token plain">version</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">1.2</span><span class="token number">.3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/QualiTorque/torque-docs/tree/master/docs/blueprint-designer-guide/blueprint-quickstart-guide.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/example-blueprints/Kubernetes Compliance"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Kubernetes Compliance</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blueprint-designer-guide/blueprints/blueprints-overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Blueprint YAML Overview</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-a-torque-blueprint" class="table-of-contents__link toc-highlight">What is a Torque blueprint?</a></li><li><a href="#option-a-let-torque-generate-blueprints-from-your-assets" class="table-of-contents__link toc-highlight">Option A: Let Torque generate blueprints from your assets</a></li><li><a href="#option-b-create-a-multi-asset-blueprint-in-your-source-control-repository" class="table-of-contents__link toc-highlight">Option B: Create a multi-asset blueprint in your source control repository</a></li><li><a href="#removing-a-blueprint" class="table-of-contents__link toc-highlight">Removing a blueprint</a><ul><li><a href="#example-multi-grain-blueprint-1-helm-application-with-mysql-and-s3-deployed-by-terraform" class="table-of-contents__link toc-highlight">Example multi-grain blueprint 1: Helm Application with MySQL and S3 Deployed by Terraform</a></li></ul></li><li><a href="#example-multi-grain-blueprint-2-webgame-on-s3-using-cloudformation-and-terraform" class="table-of-contents__link toc-highlight">Example multi-grain blueprint 2: Webgame on S3 (using CloudFormation and Terraform)</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items"><li class="footer__item"><a href="https://www.quali.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Quali Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.quali.com/careers/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/QualiTorque/torque-docs/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/qualisystems" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://www.quali.com/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Quali blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/QualiTorque/torque-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
<script src="/assets/js/runtime~main.9e4267c3.js"></script>
<script src="/assets/js/main.2467c89a.js"></script>
</body>
</html>